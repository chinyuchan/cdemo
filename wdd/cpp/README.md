# CPP
C++代码的编译器是g++，但是也可以用gcc编译C++代码，要链接`stdc++`库。
```
g++ hello.cpp
gcc hello.cpp -lstdc++
```

## IO

| IO        | C        | C++    |
|-----------|----------|--------|
| stdin(0)  | scanf()  | cin对象  |
| stdout(1) | printf() | cout对象 |
| stderr(2) | perror() | cerr对象 |


## 名字空间
C++为了对全局变量、函数、宏、对象进行划分，避免名字冲突，将标准库的内容置于一个逻辑空间中，这个逻辑空间称为名字空间，即`std`。
* `using namespace std`
  * 使用名字空间`std`，即名字空间中的内容对当前作用于完全可见，当前作用中就可以直接使用名字空间中的所有函数、对象等。
* `use std`

## 枚举
* C++的枚举是强类型
* 枚举类型不能再用整数进行初始化或赋值
  * C中枚举是整数，可以用整数相互赋值和初始化
  * C++中整数不能赋值给枚举变量，但枚举值可以赋值给整数
* 枚举类型名可以省略`enum`关键字

## 联合
* C++支持匿名联合，允许C++中的变量以联合的方式存储布局

## 结构体
* 定义变量时，C++的`struct`关键字可以省略
* C++中，空结构体大小为`1`，C语言中空结构体大小为`0`
* C++中，结构体成员变量可以用static修饰，C语言中则不能
* C++中，结构体中可以定义函数，C语言中则不能
* C++中，结构体中支持继承，C语言中则不能

## 字符串
* C++中提供了字符串类型
* C语言中字符串：字面值字符串、字符数组，没有单独的字符串类型
* 字符串构造
  * 空构造
  * 字面值字符串构造
  * 构造函数构造
  * 用另外一个string构造
* 字符串操作
  * 可以用字符串直接赋值
  * 使用`+`操作符，拼接字符串
  * 支持`[]`操算符
  * 成员函数

## C++函数
支持重载、缺省值、哑元

### 函数重载
同一作用域中，函数名相同，参数列表不同。
* 在调用同名函数时，编译器会根据调用参数时传递的实参类型和个数来绑定调用的函数。在编译阶段就确定了调用的是哪个函数。
* 参数列表不同
  * 参数类型不同（同位置的形参类型）
  * 参数个数不同
  * 对于指针和引用类型的参数，常属性不同也构成重载
* 重载与函数返回值类型无关
* 调用重载函数
  * 调用重载函数，不是由程序员指定的，而是由编译器绑定的。
  * 编译器根据参数的个数和类型来绑定对应的函数，称为静态绑定。
  * 可能会引发歧义。
    * 在调用函数时，先根据函数名搜索函数。
    * 如果函数没有重载，如果类型不匹配，则编译器会对实参进行类型转换，如果能够转为参数的类型，则编译器直接绑定。如果不能转换，则编译器报错。
    * 如果调用的函数有重载，会根据参数的个数和类型进行匹配。如果有完全匹配的函数，则直接绑定。如果不能完全匹配，则对实参进行类型转换，转换后如果有合适的，也能进行绑定。
    * 如果没有完全匹配，类型转换后，有多个同等级的重载函数，则产生歧义。
      * 多个参数时，一个参数的类型转换高于多个参数的类型转换

### 重载原理
* g++编译器会对函数换名，汇编中的标示符与原函数名不同。
* gcc编译器不会对函数换名，汇编中的标示符与原函数名相同。





